<form hx-post="/admin/projects/{{ project_id }}/collections" 
      hx-target="#collections-list"
      hx-swap="innerHTML"
      class="space-y-4"
      onsubmit="document.getElementById('collection-modal').classList.add('hidden')">
    <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
        <h3 class="text-lg font-medium leading-6 text-gray-900 mb-4">
            Create New Collection
        </h3>
        
        <div class="space-y-4">
            <div>
                <label for="collection_name" class="block text-sm font-medium text-gray-700">
                    Collection Name *
                </label>
                <input 
                    type="text" 
                    name="collection_name" 
                    id="collection_name" 
                    required
                    pattern="[a-zA-Z0-9_-]+"
                    title="Only letters, numbers, underscores, and hyphens allowed"
                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                    placeholder="e.g., documents, embeddings, vectors">
                <p class="mt-1 text-xs text-gray-500">Only alphanumeric characters, underscores, and hyphens</p>
            </div>
            
            <div>
                <label for="shards" class="block text-sm font-medium text-gray-700">
                    Number of Shards *
                </label>
                <select 
                    name="shards" 
                    id="shards" 
                    required
                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    <option value="1">1 (Default - Small dataset)</option>
                    <option value="2">2</option>
                    <option value="4" selected>4 (Recommended)</option>
                    <option value="8">8</option>
                    <option value="16">16 (Large dataset)</option>
                    <option value="32">32 (Very large dataset)</option>
                </select>
                <p class="mt-1 text-xs text-gray-500">More shards = better distribution for large datasets</p>
            </div>
            
            <div>
                <label for="description" class="block text-sm font-medium text-gray-700">
                    Description
                </label>
                <textarea 
                    name="description" 
                    id="description" 
                    rows="3"
                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                    placeholder="Optional description for this collection"></textarea>
            </div>
        </div>
    </div>
    
    <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
        <button 
            type="submit"
            class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm">
            Create Collection
        </button>
        <button 
            type="button"
            onclick="document.getElementById('collection-modal').classList.add('hidden')"
            class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            Cancel
        </button>
    </div>
</form>
